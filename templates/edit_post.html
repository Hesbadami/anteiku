{% extends "base.html" %}

{% block title %}Edit Post - Anteiku{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <div style="text-align: center; margin-bottom: 2rem; padding: 2rem; background: rgba(0,0,0,0.3); border-radius: 15px;">
        <h1 style="color: var(--gold); margin-bottom: 0.5rem;">
            <i class="fas fa-edit"></i> Refine Your Brew
        </h1>
        <p style="color: var(--cream); opacity: 0.8;">
            Perfect your coffee story... ☕
        </p>
    </div>
    
    <form method="POST" style="background: rgba(0,0,0,0.4); padding: 2rem; border-radius: 15px; border: 1px solid var(--gold);">
        <div style="margin-bottom: 1.5rem;">
            <label for="title" style="display: block; color: var(--gold); margin-bottom: 0.5rem; font-weight: 500; font-size: 1.1rem;">
                <i class="fas fa-heading"></i> Post Title
            </label>
            <input type="text" id="title" name="title" required value="{{ post.title }}"
                   style="width: 100%; padding: 1rem; border: 2px solid var(--coffee-medium); border-radius: 8px; 
                          background: rgba(0,0,0,0.6); color: var(--cream); font-size: 1.1rem;">
        </div>
        
        <div style="margin-bottom: 2rem;">
            <label for="content" style="display: block; color: var(--gold); margin-bottom: 0.5rem; font-weight: 500; font-size: 1.1rem;">
                <i class="fas fa-file-alt"></i> Content (Markdown Supported)
            </label>
            <textarea id="content" name="content" required rows="15"
                      style="width: 100%; padding: 1rem; border: 2px solid var(--coffee-medium); border-radius: 8px; 
                             background: rgba(0,0,0,0.6); color: var(--cream); font-size: 1rem; font-family: 'Courier New', monospace; line-height: 1.6; resize: vertical;">{{ post.content }}</textarea>
        </div>
        
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <button type="submit" class="btn btn-gold" style="padding: 1rem 2rem; font-size: 1.1rem;">
                <i class="fas fa-save"></i> Update Post
            </button>
            <a href="{{ url_for('view_post', post_id=post.id) }}" class="btn" style="padding: 1rem 2rem; font-size: 1.1rem;">
                <i class="fas fa-eye"></i> Preview
            </a>
            <a href="{{ url_for('admin') }}" class="btn" style="padding: 1rem 2rem; font-size: 1.1rem;">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
    
    <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(139, 0, 0, 0.2); border-radius: 10px; border: 1px solid var(--red-accent);">
        <h3 style="color: var(--red-accent); margin-bottom: 1rem;">
            <i class="fas fa-exclamation-triangle"></i> Danger Zone
        </h3>
        <p style="color: #FFB6C1; margin-bottom: 1rem;">
            This action cannot be undone. Like spilled coffee, once it's gone, it's gone forever...
        </p>
        <a href="{{ url_for('delete_post', post_id=post.id) }}" class="btn btn-danger"
           onclick="return confirm('Are you sure you want to delete this post? Even ghouls can\'t bring back spilled coffee... ☕')">
            <i class="fas fa-trash"></i> Delete This Post
        </a>
    </div>
    
    <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(218, 165, 32, 0.1); border-radius: 10px; border: 1px solid rgba(218, 165, 32, 0.3);">
        <h3 style="color: var(--gold); margin-bottom: 1rem;">
            <i class="fas fa-lightbulb"></i> Editing Tips
        </h3>
        <div style="color: var(--cream); font-size: 0.9rem; opacity: 0.9;">
            <p style="margin-bottom: 0.5rem;">• Use the Preview button to see how your post looks</p>
            <p style="margin-bottom: 0.5rem;">• Markdown formatting is supported (just like GitHub)</p>
            <p style="margin-bottom: 0.5rem;">• Changes are saved immediately when you click Update</p>
            <p>• Remember: "Coffee tastes better when shared" ☕</p>
        </div>
    </div>
</div>

<style>
    input:focus, textarea:focus {
        outline: none;
        border-color: var(--gold);
        box-shadow: 0 0 0 3px rgba(218, 165, 32, 0.2);
    }
    
    input::placeholder, textarea::placeholder {
        color: rgba(245, 245, 220, 0.5);
    }
</style>
{% endblock %}
